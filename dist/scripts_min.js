let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}let i=document.querySelector(".search-bar");function a(e){let t=document.querySelector(".pokemon-list"),n=document.createElement("li"),i=document.createElement("button");n.classList.add("list-group-item","col-sm-4","col-lg-2"),i.innerText=e.name,i.classList.add("btn","btn-primary","btn-block","capitalize-first-letter"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#exampleModal"),i.addEventListener("click",function(t){l(e)}),n.appendChild(i),t.appendChild(n)}function l(e){pokemonRepository.loadDetails(e).then(function(){var t;let n,i,a,l,o,r,s,c,d;console.log(e),t=e,n=document.querySelector(".modal-body"),(i=document.querySelector(".modal-title")).innerHTML="",n.innerHTML="",(a=document.createElement("h1")).textContent=t.name,a.classList.add("capitalize-first-letter"),(l=document.createElement("img")).classList.add("modal-img"),l.style.width="50%",l.src=t.imageUrlFront,(o=document.createElement("img")).classList.add("modal-img"),o.style.width="50%",o.src=t.imageUrlBack,(r=document.createElement("p")).textContent="Height : "+t.height,(s=document.createElement("p")).textContent="Weight : "+t.weight,(c=document.createElement("p")).textContent="Types : "+t.types.join(", "),(d=document.createElement("p")).textContent="Abilities : "+t.abilities.join(", "),i.appendChild(a),n.appendChild(l),n.appendChild(o),n.appendChild(r),n.appendChild(s),n.appendChild(c),n.appendChild(d)})}return i.addEventListener("input",t=>{let n=t.target.value.toLowerCase(),i=e.filter(e=>e.name.toLowerCase().includes(n));document.querySelector(".pokemon-list").innerHTML="",i.forEach(e=>{a(e)})}),{add:t,getAll:n,addListItem:a,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.weight=e.weight,t.types=e.types.map(e=>e.type.name),t.abilities=e.abilities.map(e=>e.ability.name)}).catch(function(e){console.error(e)})},showDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});